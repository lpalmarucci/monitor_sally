{"version":3,"sources":["components/ChartComponent.js","containers/ChartContainer.js","App.js","index.js"],"names":["ChartComponent","props","useState","data","setData","labels","setLabels","useEffect","len","data_from_sheet","length","xValues","yValues","idx","push","Time","name","shift","console","log","datasets","fill","label","backgroundColor","options","opt_datasets","borderColor","borderWidth","pointRadius","pointStyle","pointBorderWidth","pointHoverBorderWidth","height","width","maintainAspectRatio","title","display","text","scales","yAxes","ticks","beginAtZero","min","max","ChartContainer","q_data","setInterval","Tabletop","init","key","simpleSheet","then","className","animationEnabled","exportEnabled","theme","axisY","suffix","axisX","App","ReactDOM","render","document","getElementById"],"mappings":"sNAkFeA,MA9Ef,SAAwBC,GAEpB,IAF0B,EAIJC,mBAAS,IAJL,mBAIrBC,EAJqB,KAIfC,EAJe,OAKAF,mBAAS,IALT,mBAKrBG,EALqB,KAKbC,EALa,KAkC1B,OA3BAC,qBAAU,WACN,IAAIC,EAAMP,EAAMQ,gBAAgBC,OAC5BC,EAAU,GACVC,EAAU,GACd,GAAW,IAARJ,EAAU,CACT,IAAI,IAAIK,EAAM,EAAEA,EAAML,EAAIK,IACtBF,EAAQG,KAAKb,EAAMQ,gBAAgBI,GAAKE,MACxCH,EAAQE,KAAKb,EAAMQ,gBAAgBI,GAAKZ,EAAMe,OAElD,GAAGR,EAduB,GAetB,IAAI,IAAIK,EAAM,EAAEA,EAAML,EAfA,GAeiCK,IACnDF,EAAQM,QACRL,EAAQK,QAMpBX,EAAUK,GAEVP,EAAQQ,KAGV,CAACX,EAAMQ,kBAETS,QAAQC,IAAIlB,GAGR,8BACI,cAAC,OAAD,CACIE,KAAM,CACFE,OAASA,EACTe,SAAW,CAAC,CACRC,MAAM,EACNC,MAAQrB,EAAMe,KACdb,KAAOA,EACPoB,gBAAiBtB,EAAMuB,QAAQC,aAAaF,gBAC5CG,YAAazB,EAAMuB,QAAQC,aAAaC,YACxCC,YAAa,EACbC,YAAa,EACbC,WAAW,SACXC,iBAAkB,EAClBC,sBAAwB,MAIhCC,OAAQ,IACRC,MAAO,IACPT,QAAS,CACLU,qBAAqB,EACrBC,MAAQ,CACJC,SAAU,EACVC,KAAO,qDAEXC,OAAS,CACLC,MAAQ,CAAC,CACLC,MAAO,CACHC,aAAc,EACdC,IAAK,EACLC,IAAoB,eAAd1C,EAAMe,KAAyB,GAAK,cCc3D4B,MA/Ef,SAAwB3C,GACpB,IAAImC,EAAU,4CADY,EA2CDlC,mBAAS,IA3CR,mBA2CnB2C,EA3CmB,KA2CZzC,EA3CY,KA4E1B,OA/BAG,qBAAU,WACNuC,aAAY,WACRC,IAASC,KAAM,CACPC,IAAK,uGACLC,aAAa,IACdC,MAAK,SAAChD,GACLC,EAAQD,QAElB,OACJ,IAEC0C,EAAOnC,OAAS,IACf0B,EAAU,sBAAKgB,UAAU,iBAAf,UACE,qBAAKA,UAAU,UAAf,SACI,cAAC,EAAD,CACI3C,gBAAiBoC,EACjBrB,QA1DI,CACxB6B,kBAAkB,EAClBC,eAAe,EACfC,MAAO,SACPpB,MAAQ,CACNE,KAAO,eAETmB,MAAQ,CACNrB,MAAQ,cACRsB,OAAS,QAEXC,MAAQ,CACNvB,MAAQ,QAEVV,aAAc,CACZF,gBAAiB,mBACjBG,YAAa,2BA2CKV,KAAK,kBAIb,qBAAKoC,UAAU,UAAf,SACI,cAAC,EAAD,CACI3C,gBAAiBoC,EACjBrB,QA9CM,CAC1B6B,kBAAkB,EAClBC,eAAe,EACfC,MAAO,SACPpB,MAAQ,CACNE,KAAO,YAETmB,MAAQ,CACNrB,MAAQ,aACRsB,OAAS,KAEXC,MAAQ,CACNvB,MAAQ,QAEVV,aAAc,CACVF,gBAAiB,oBACjBG,YAAa,4BA+BGV,KAAK,mBAMpB,oCAAOoB,EAAP,Q,OClEEuB,MATf,WAEE,OACE,qBAAKP,UAAU,UAAf,SACE,cAAC,EAAD,OCNNQ,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.95a0cf43.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\n\nimport {Line} from 'react-chartjs-2';\n\nfunction ChartComponent(props){\n\n    const NUM__PUNTI__DA__DISEGNARE = 10;\n\n    var [data, setData] = useState([]);\n    var [labels, setLabels] = useState([]);\n\n    useEffect(() => {\n        let len = props.data_from_sheet.length;\n        let xValues = [];\n        let yValues = [];\n        if(len !== 0){\n            for(let idx = 0;idx < len;idx++){\n                xValues.push(props.data_from_sheet[idx].Time);\n                yValues.push(props.data_from_sheet[idx][props.name]);\n            }\n            if(len > NUM__PUNTI__DA__DISEGNARE){\n                for(let idx = 0;idx < len - NUM__PUNTI__DA__DISEGNARE; idx++){\n                    xValues.shift();\n                    yValues.shift();\n                }\n            }\n        }\n\n        //X\n        setLabels(xValues);\n        //Y\n        setData(yValues);\n\n        \n    },[props.data_from_sheet]);\n\n    console.log(props);\n\n    return (\n        <div>\n            <Line \n                data={{\n                    labels : labels,\n                    datasets : [{\n                        fill: false,\n                        label : props.name,\n                        data : data,\n                        backgroundColor: props.options.opt_datasets.backgroundColor,\n                        borderColor: props.options.opt_datasets.borderColor,\n                        borderWidth: 6,\n                        pointRadius: 6,\n                        pointStyle:\"circle\",\n                        pointBorderWidth: 6,\n                        pointHoverBorderWidth : 10,\n                        // lineTension : 0\n                    }]\n                }}\n                height={400}\n                width={600}\n                options={{\n                    maintainAspectRatio: false,\n                    title : {\n                        display : false,\n                        text : \"Grafici per la nostra amata sally 🍁\"\n                    },\n                    scales : {\n                        yAxes : [{\n                            ticks: {\n                                beginAtZero : true,\n                                min: 0,\n                                max: (props.name == \"Temperature\") ? 40 : 100\n                                // stepSize: 5  \n                            }\n                        }]\n                    }\n                }}\n            />\n        </div>\n    )\n\n}\n\nexport default ChartComponent;","import React, {useEffect, useState} from 'react';\nimport Tabletop from 'tabletop';\nimport ChartComponent from '../components/ChartComponent';\n\n\nfunction ChartContainer(props){\n    var display = <h1>Loading...</h1>;\n\n    const charts_temp_options = {\n        animationEnabled: true,\n        exportEnabled: false,\n        theme: \"light1\", // \"light1\", \"dark1\", \"dark2\"\n        title : {\n          text : \"Temperature\"\n        },\n        axisY : {\n          title : \"Temperature\",\n          suffix : \"°\"\n        },\n        axisX : {\n          title : \"Time\"\n        },\n        opt_datasets: {\n          backgroundColor: \"rgb(171, 63, 46)\",\n          borderColor: 'rgba(171, 63, 46, 0.3)'\n        }\n      }\n    \n      const charts_humi_options = {\n        animationEnabled: true,\n        exportEnabled: false,\n        theme: \"light1\", // \"light1\", \"dark1\", \"dark2\"\n        title : {\n          text : \"Humidity\"\n        },\n        axisY : {\n          title : \"Percentage\",\n          suffix : \"%\"\n        },\n        axisX : {\n          title : \"Time\"\n        },\n        opt_datasets: {\n            backgroundColor: \"rgb(74, 181, 211)\",\n            borderColor: 'rgba(74, 181, 211, 0.3)'\n        }\n      }\n\n    const [q_data,setData] = useState([]);\n\n    useEffect(() => {\n        setInterval(() => {\n            Tabletop.init( {\n                    key: 'https://docs.google.com/spreadsheets/d/18W3JiJbGZPc3IT2YhUlwp2XYH6lnqxG4nqsFGbXsj9o/edit?usp=sharing',\n                    simpleSheet: true \n                }).then((data) => {\n                    setData(data);\n                })\n        },5000);\n    },[]);\n\n    if(q_data.length > 0){\n        display = <div className=\"chartContainer\"> \n                    <div className=\"chart-1\">\n                        <ChartComponent \n                            data_from_sheet={q_data} \n                            options={charts_temp_options}\n                            name=\"Temperature\"\n                        />\n                    </div>\n\n                    <div className=\"chart-2\">\n                        <ChartComponent \n                            data_from_sheet={q_data} \n                            options={charts_humi_options}\n                            name=\"Humidity\"\n                        />\n                    </div>\n                  </div>\n    }\n\n    return ( <div> {display} </div> )\n}\n\nexport default ChartContainer;","\n\nimport React from 'react';\nimport ChartContainer from './containers/ChartContainer';\nimport './Charts.css';\n\nfunction App() {\n\n  return (\n    <div className=\"wrapper\">\n      <ChartContainer/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}